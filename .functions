function command_not_found_handle {
	echo "Command "'"'$1'"'" not found";
	return 127;
}

function set_shell_title {
	echo -ne "\e]2;$@\a";
}

function short_pwd {
	# take $PWD
	# if it starts with $HOME, replace it with ~
	# remove trailing slash
	echo "${PWD}/" | sed "s@^${HOME}/@~/@" | sed "s/\/\$//";
}

function platform {
	local platform;
	local uname="$(uname --kernel-name)";
	# determine platform
	if [[ "${uname}" == MINGW* ]] || [[ "${uname}" == CYGWIN* ]]; then
		platform='win32';
	elif [[ "${uname}" == 'Linux' ]]; then
		platform='linux';
	elif [[ "${uname}" == 'Darwin' ]]; then
		platform='darwin';
	else
		echo 'Kernel name unrecognized: ' $uname >&2;
		return 127;
	fi;
	# output
	if [ -z "$#" ]; then
		echo "$platform";
	elif [ "$platform" == "$1" ]; then
		return 0;
	else
		return 1;
	fi;
}

# from mathiasbynens/dotfiles .functions
function dataurl {
	local mimeType=$(file -b --mime-type "$1");
	if [[ $mimeType == text/* ]]; then
		mimeType="${mimeType};charset=utf-8";
	fi
	echo "data:${mimeType};base64,$(openssl base64 -in "$1" | tr -d '\n')";
}
